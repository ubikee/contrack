{"version":3,"sources":["AppAPI.js","firebase.js","AppContext.js","schema.js","pages/contracts/editor.js","pages/contracts/page.js","pages/reports/modules/month.js","pages/reports/page.js","pages/login/page.js","App.js","reportWebVitals.js","index.js"],"names":["http","HTTPClient","window","API","process","REACT_APP_API","Session","sales","GET","sale","id","addSale","form","body","JSON","stringify","POST","updateSale","PUT","deleteSale","DELETE","clearSales","firebase","apps","length","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","db","firestore","login","email","password","a","signInWithEmailAndPassword","console","log","collection","doc","delete","error","contracts","get","querySnapshot","docs","map","data","createContract","contract","add","docRef","deleteContract","AppContext","React","createContext","AppContextProvider","children","useState","setContracts","setContract","token","preorders","response","loadContracts","find","c","value","addAuthenticationListener","onLogin","onAuthStateChanged","user","loadContract","selectContract","clearContract","Provider","CONTRACT","type","TYPES","STRING","service","tye","label","required","options","affected","provider","client","description","init","DATE","default","payment","NUMBER","frequency","ContractEditor","context","useContext","Contract","Content","title","use","className","icon","action","content","GROUPS","Page","site","SiteContext","selected","by","setBy","useEffect","items","text","openDialog","onOK","onChange","group","expandAll","onSelect","MonthReport","expenses","filter","incomes","expensesTable","columns","rows","cost","incomesTable","expensesData","angle","incomesData","x","y","reduce","sum","parseFloat","color","width","height","goto","AppSite","min","lang","dictionary","section","layout","App","props","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.114ccf88.chunk.js","sourcesContent":["import { HTTPClient, Session } from 'ywana-core7'\nconst http = HTTPClient(window.API || process.env.REACT_APP_API, Session);\n\n/**\n * API json server\n */\nconst API = {\n\n    sales() {\n        return http.GET(`/sales`)\n    },\n \n    sale(id) {\n        return http.GET(`/sales/${id}`)\n    },\n\n    addSale(form) {\n        const body = JSON.stringify(form)\n        return http.POST(`/sales`, body)\n    },\n\n    updateSale(id, form) {\n        const body = JSON.stringify(form)\n        return http.PUT(`/sales/${id}`, body)\n    },\n\n    deleteSale(id) {\n        return http.DELETE(`/sales/${id}`)\n    },\n\n    clearSales() {\n        return http.DELETE(`/sales`)\n    },\n\n}\n\nexport default API\n","import firebase from 'firebase/app';\nimport 'firebase/auth'\nimport 'firebase/firestore'\nimport 'firebase/auth'\n\nvar firebaseConfig = {\n    apiKey: \"AIzaSyAeIpLj4L7EFJcW49RczrG3D3NRxa48Jkw\",\n    authDomain: \"contrack-57484.firebaseapp.com\",\n    projectId: \"contrack-57484\",\n    storageBucket: \"contrack-57484.appspot.com\",\n    messagingSenderId: \"716933732632\",\n    appId: \"1:716933732632:web:e6621d6f190d2a7b4e266d\",\n    measurementId: \"G-M4HQYE8C52\"\n};\n\nif (!firebase.apps.length) {\n    firebase.initializeApp(firebaseConfig);\n}\n\nexport const auth = firebase.auth()\nexport const db = firebase.firestore();\n\n/**\n * Login\n */\nexport const login = async (email, password) => {\n    try {\n        await auth.signInWithEmailAndPassword(email, password)\n    } catch (error) {\n        console.log(\"Error login in with password and email\", error)\n        return false\n    }\n}\n\nexport const contracts = async () => {\n    try {\n        const querySnapshot = await db.collection('contracts').get()\n        const contracts = querySnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }))\n        return contracts\n    } catch (error) {\n        console.error(\"Error getting collection\", error)\n    }\n}\n\n/**\n * Create Contract\n */\nexport const createContract = async (contract) => {\n    try {\n        const docRef = await db.collection('contracts').add(contract)\n        return docRef\n    } catch (error) {\n        console.error(\"Error adding document\", error)\n    }\n}\n\nexport async function deleteContract(id) {\n    try {\n        const docRef = await db.collection('contracts').doc(id)\n        docRef.delete()\n    } catch (error) {\n        console.error(\"Error deleting document\", error)\n    }\n}\n\nconst API = {\n    auth,\n    login,\n    contracts,\n    createContract,\n    deleteContract,\n}\n\nexport default API","import React, { useState } from 'react'\nimport API from './AppAPI'\nimport firebase from './firebase'\n\nexport const AppContext = React.createContext()\n\nexport const AppContextProvider = ({ children }) => {\n\n    const [contracts, setContracts] = useState([])\n    const [contract, setContract] = useState()\n\n    function login(email, password) {\n        firebase.login(email, password)\n    }\n\n    function addAuthenticationListener(onLogin) {\n        firebase.auth.onAuthStateChanged(user => {\n            if (user) {\n                if (onLogin) onLogin(user)\n            } else {\n                console.log('NOT LOGGED')\n            }\n        });\n    }\n\n    async function loadContract(token) {\n        const response = await API.preorders(token)\n        setContract(response)\n    }\n\n    async function loadContracts() {\n        const response = await firebase.contracts()\n        setContracts(response)\n        return response\n    }\n\n    async function createContract(form) {\n        await firebase.createContract(form)\n    }\n\n    async function selectContract(id) {\n        const contract = contracts.find(c => c.id === id)\n        setContract(contract)\n    }\n\n    async function clearContract() {\n        setContract(null)\n    }\n\n    async function deleteContract(id) {\n        await firebase.deleteContract(id)\n        loadContracts()\n    }\n\n\n    const value = {\n\n        login,\n        addAuthenticationListener,\n\n        contracts,\n        contract,\n        loadContract,\n        loadContracts,\n        createContract,\n        selectContract,\n        clearContract,\n        deleteContract,\n\n    }\n\n    return (\n        <AppContext.Provider value={value}>{children}</AppContext.Provider>\n    )\n}","import { TYPES } from \"ywana-core7\";\n\nexport const CONTRACT = {\n    id: { id: \"id\", type: TYPES.STRING },\n\n    service: {\n        id: \"service\",\n        tye: TYPES.STRING,\n        label: \"Service\",\n        required: true,\n        options: [\n            { value: \"SUPPLY\", label: \"Supply\" },\n            { value: \"RENTAL\", label: \"Rental\" },\n            { value: \"INSURANCE\", label: \"Insurance\" },\n            { value: \"OTHER\", label: \"Other\" },\n        ],\n    },\n\n    affected: {\n        id: \"affected\",\n        type: TYPES.STRING,\n        label: \"Affected\",\n        required: true,\n    },\n\n    provider : { id: \"provider\", type: TYPES.STRING, label: \"Provider\", required: true },\n\n    client : { id: 'client', type: TYPES.STRING, label: \"Client\", required: true },\n\n    description: {\n        id: \"description\",\n        type: TYPES.STRING,\n        label: \"Description\",\n        required: true,\n    },\n\n    init: { id: \"init\", type: TYPES.DATE, label: \"Init Date\", required: true },\n\n    length: {\n        id: \"length\",\n        type: TYPES.STRING,\n        label: \"Length\",\n        required: true,\n        default: \"YEAR\",\n        options: [\n            { value: \"YEAR\", label: \"Year\" },\n            { value: \"MONTH\", label: \"Month\" },\n        ],\n    },\n\n    payment: {\n        id: \"payment\",\n        type: TYPES.NUMBER,\n        label: \"Payment\",\n        required: true,\n    },\n\n    frequency: {\n        id: \"frequency\",\n        type: TYPES.STRING,\n        label: \"Frequency\",\n        required: true,\n        options: [\n            { value: \"YEAR\", label: \"Year\" },\n            { value: \"MONTH\", label: \"Month\" },\n        ],\n    },\n\n};\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { Content, Header, Text, ContentForm, Button } from \"ywana-core7\";\nimport { AppContext } from \"../../AppContext\";\nimport { CONTRACT } from '../../schema'\nimport './editor.css'\n\n/**\n * Contract Editor\n */\nexport const ContractEditor = () => {\n    const context = useContext(AppContext);\n    const { contract } = context;\n\n    if (!contract) return <div>select contract</div>;\n\n    function deleteContract() {\n        const { id } = contract\n        context.deleteContract(id)\n    }\n\n    const Contract = new Content(CONTRACT, contract)\n    const icon = { icon: 'description' }\n    const title = <Text use=\"headline6\">{contract.description}: {contract.affected}</Text>\n    return (\n        <div className=\"contract-editor\">\n            <Header icon={icon} title={title}>\n                <Button label=\"DELETE\" action={deleteContract} />\n            </Header>\n            <ContentForm content={Contract} />\n        </div>\n    );\n};\n","import React, { Fragment, useContext, useState, useEffect } from \"react\";\nimport { AppContext } from \"../../AppContext\";\nimport { ContractEditor } from \"./editor\";\nimport { CONTRACT } from \"../../schema\";\nimport { Header, GroupList, Text, SiteContext, Button, CreateContentDialog, DropDown } from \"ywana-core7\";\nimport \"./page.css\";\n\nconst GROUPS = [\n    { label: \"Affected\", value: \"affected\" },\n    { label: \"Service\", value: \"service\" },\n    { label: \"Provider\", value: \"provider\" },\n    { label: \"Client\", value: \"client\" },\n];\n\n/**\n * Contracts Page\n */\nconst Page = () => {\n    const site = useContext(SiteContext);\n    const context = useContext(AppContext);\n    const [selected, setSelected] = useState(1);\n    const [by, setBy] = useState(\"affected\");\n\n    useEffect(() => {\n        context.loadContracts();\n    }, []);\n\n    function select(id, c) {\n        context.selectContract(id);\n    }\n\n    function add() {\n        const onOK = (form) => context.createContract(form);\n        site.openDialog(<CreateContentDialog label=\"Create Contract\" type={CONTRACT} onOK={onOK} />);\n    }\n\n    function changeGroup(id, value) {\n        setBy(value);\n    }\n\n    const items = context.contracts.map((contract) => ({\n        id: contract.id,\n        icon: \"description\",\n        title: contract.description,\n        text: contract.service,\n        ...contract,\n    }));\n\n    const title = <Text>CONTRACTS</Text>;\n    return (\n        <Fragment>\n            <Header title={title}>\n                <Button label=\"ADD\" action={add} />\n            </Header>\n            <menu>\n                <DropDown label=\"Group By\" options={GROUPS} value={by} onChange={changeGroup} />\n                <GroupList items={items} group={{ by }} expandAll={true} onSelect={select} selected={selected} />\n            </menu>\n            <main>\n                <ContractEditor />\n            </main>\n        </Fragment>\n    );\n};\n\nexport default Page;\n","import React from \"react\";\nimport { DataTable, Header, Text } from \"ywana-core7\";\nimport \"./month.css\";\nimport { RadialChart, VerticalBarSeries, XAxis, XYPlot, YAxis } from \"react-vis\";\n\n/**\n * Month Report\n */\nexport const MonthReport = ({ contracts }) => {\n    const expenses = contracts.filter((contract) => contract.client === \"ME\");\n    const incomes = contracts.filter((contract) => contract.client !== \"ME\");\n\n    const expensesTable = {\n        columns: [\n            { id: \"affected\", label: \"Affected\"},\n            { id: \"description\", label: \"Description\" },\n            { id: \"cost\", label: \"€\" },\n        ],\n        rows: expenses.map((contract) => ({\n            affected: contract.affected,\n            description: contract.description,\n            cost: contract.payment,\n        })),\n    };\n\n    const incomesTable = {\n        columns: [\n            { id: \"affected\", label: \"Affected\"},\n            { id: \"description\", label: \"Description\" },\n            { id: \"cost\", label: \"€\" },\n        ],\n        rows: incomes.map((contract) => ({\n            affected: contract.affected,\n            description: contract.description,\n            cost: contract.payment,\n        })),\n    };\n\n    const expensesData = expenses.map((contract) => ({ angle: contract.payment }));\n    const incomesData = incomes.map((contract) => ({ angle: contract.payment }));\n\n    const expensesSum = expenses.reduce((sum, contract) => sum + parseFloat(contract.payment), 0);\n    const incomesSum = incomes.reduce((sum, contract) => sum + parseFloat(contract.payment), 0);\n    const data = [\n        { x: 0, y: expensesSum, color: 1, label: 'xxx' },\n        { x: 1, y: incomesSum, color: 2, label: 'yy'},\n    ];\n\n    console.log(data)\n\n    const title = <Text use=\"headline6\">Monthly Report</Text>;\n    return (\n        <div className=\"month-report\">\n            <Header title={title}></Header>\n            <main>\n                <div>\n                    <Header title=\"Expenses\"></Header>\n                    <RadialChart data={expensesData} width={150} height={150} />\n                    <DataTable {...expensesTable} />\n                </div>\n                <div>\n                    <XYPlot width={200} height={200}>\n                        <VerticalBarSeries data={data} />\n                    </XYPlot>\n                </div>\n                <div>\n                    <Header title=\"Incomes\"></Header>\n                    <RadialChart data={incomesData} width={150} height={150} />\n                    <DataTable {...incomesTable} />\n                </div>\n            </main>\n            <footer>Total</footer>\n        </div>\n    );\n};\n","import React, { Fragment, useContext, useEffect } from \"react\";\nimport { AppContext } from \"../../AppContext\";\nimport { Header, Text, SiteContext} from \"ywana-core7\";\nimport \"./page.css\";\nimport { MonthReport } from './modules/month'\n\n/**\n * Reports Page\n */\nconst Page = () => {\n\n    const site = useContext(SiteContext);\n    const context = useContext(AppContext);\n    const { contracts = [] } = context\n\n    useEffect(() => {\n        context.loadContracts();\n    }, []);\n\n    const title = <Text>REPORTS</Text>;\n    return (\n        <Fragment>\n            <Header title={title}>\n            </Header>\n            <main>\n                <MonthReport contracts={contracts}/>\n            </main>\n        </Fragment>\n    );\n};\n\nexport default Page;\n","import React, { useContext } from 'react';\nimport { SiteContext, LoginBox } from 'ywana-core7'\nimport { AppContext } from '../../AppContext';\nimport './page.css';\n\n/**\n * Login Page\n */\nconst Page = () => {\n\n    const site = useContext(SiteContext)\n    const context = useContext(AppContext)\n\n    context.addAuthenticationListener(() => {\n        site.goto('REPORTS')\n    })\n\n    function login(email, password) {\n        context.login(email, password)\n    }\n\n    return (\n        <main className=\"login\">\n            <LoginBox title=\"ContracK\" onOK={login}/>\n        </main>\n    )\n}\n\nexport default Page","import React from 'react';\nimport { Site, Page } from 'ywana-core7'\nimport { AppContextProvider } from './AppContext'\nimport Contracts from './pages/contracts/page'\nimport Reports from './pages/reports/page'\nimport Login from './pages/login/page'\n\n/**\n * AppSite\n */\nconst AppSite = () => {\n\n  const init = 'LOGIN'\n\n  return (\n    <Site title={`CONTRACK ${process.env.REACT_APP_VERSION}`} init={init} min lang='es' dictionary={[]}>\n\n        <Page id=\"CONTRACTS\" section=\"B2B\" icon=\"description\" title=\"Contracts\" layout=\"workspace\">\n          <Contracts />\n        </Page>     \n\n        <Page id=\"REPORTS\" section=\"B2B\" icon=\"pie_chart\" title=\"Reports\" layout=\"workspace\">\n          <Reports />\n        </Page>   \n\n        <Page id=\"LOGIN\" section=\"APP\" icon=\"meeting_room\" title=\"Exit\" layout=\"explorer\">\n          <Login />\n        </Page>\n\n    </Site>\n  )\n}\n\n/**\n * App\n */\nconst App = (props) => {\n  return (\n    <AppContextProvider>\n      <AppSite />\n    </AppContextProvider>\n  )\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'ywana-core7/dist/index.css'\nimport './css/page6.css';\nimport 'react-vis/dist/style.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}